name: SmartNVRPipeline
display_name: Smart Network Video Recorder (NVR) Proxy Pipeline
definition: >
  The Smart Network Video Recorder (NVR) Proxy Pipeline builds on top of the
  Simple NVR Proxy Pipeline to add support for video analytics on a subset of input channels.
pipeline_description: "vacompositor   name=comp   sink_0::xpos=0 sink_0::ypos=0 sink_0::alpha=1 sink_1::xpos=640 sink_1::ypos=0 sink_1::alpha=1  ! vah264enc ! h264parse ! mp4mux ! filesink   location=/tmp/dummy-video-output.mp4 async=false filesrc   location=/videos/input/people.mp4 ! qtdemux ! h264parse ! tee name=t0 ! queue2 ! mp4mux ! filesink   location=/tmp/stream0.mp4 t0. ! queue2 ! vah264dec ! video/x-raw(memory:VAMemory) ! gvafpscounter starting-frame=500 ! gvadetect   model=/models/output/pipeline-zoo-models/yolov5s-416_INT8/FP16-INT8/yolov5s.xml   model-proc=/models/output/pipeline-zoo-models/yolov5s-416_INT8/yolo-v5.json   model-instance-id=detect0   pre-process-backend=opencv   device=CPU   batch-size=0   inference-interval=3      nireq=0 ! queue2 ! gvatrack   tracking-type=short-term-imageless ! queue2 ! gvaclassify   model=/models/output/pipeline-zoo-models/resnet-50-tf_INT8/resnet-50-tf_i8.xml   model-proc=/models/output/pipeline-zoo-models/resnet-50-tf_INT8/resnet-50-tf_i8.json   model-instance-id=classify0   pre-process-backend=opencv   device=CPU   batch-size=0   inference-interval=3   nireq=0   reclassify-interval=1 ! queue2 ! gvawatermark ! gvametaconvert   format=json   json-indent=4   source=/videos/input/people.mp4 ! gvametapublish   method=file   file-path=/dev/null ! queue2   max-size-buffers=0   max-size-bytes=0   max-size-time=0 ! vapostproc ! video/x-raw,width=640,height=360 ! comp.sink_0 filesrc   location=/videos/input/people.mp4 ! qtdemux ! h264parse ! tee name=t1 ! queue2 ! mp4mux ! filesink   location=/tmp/stream1.mp4 t1. ! queue2 ! vah264dec ! video/x-raw(memory:VAMemory) ! gvafpscounter starting-frame=500 ! queue2   max-size-buffers=1   max-size-bytes=0   max-size-time=0 ! vapostproc ! video/x-raw,width=640,height=360 ! comp.sink_1 "
